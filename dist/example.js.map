{"version":3,"sources":["/home/erik/projects/martian/src/marshal.ts","/home/erik/projects/martian/example.ts"],"sourcesContent":["// This file is generated and should not be edited by humans\nimport {\n  isRequired,\n  isNumber,\n  isString,\n  isArray,\n  isNullish,\n  isOneOf,\n  isLiteral,\n} from './assertions';\n\n// $marshal is a stub that should keep linters happy and fail loudly if the\n// martian plugin isn't run as part of the build/bundling process\nfunction $marshal<T>(src: any): T {\n  throw new Error(\"marshal has not been replaced for this callsite\");\n  // @ts-ignore\n  return undefined as T;\n}\n\nexport default $marshal;\n\n// GENERATED MARSHALERS\n","import $marshal from \"./src/marshal\";\n\ntype SpaceShip = {\n  id: number;\n  name: string;\n  class: \"freighter\" | \"destroyer\" | \"yacht\";\n};\n\ninterface CrewMember {\n  id: number;\n  name: string;\n  nickName?: string;\n}\n\ninterface Captain {\n  id: number;\n  name: string;\n  nickName?: string;\n  crewIds: number[];\n}\n\n\nconst rawSpaceShip = `{\n  \"id\": 1,\n  \"name\": \"Millenium Falcon\",\n  \"class\": \"freighter\"\n}`;\n\n\n// types can be detected from the variable declartion\nconst spaceShip: SpaceShip = $marshal(JSON.parse(rawSpaceShip));\nconsole.log(spaceShip);\n\nconst rawCrewMember = `{\n  \"id\": 2,\n  \"name\": \"Chewbacca\",\n  \"nickName\": \"Chewy\"\n}`;\n\n\n// types can be detected using generic type annotations\nconst crewMember = $marshal<CrewMember>(JSON.parse(rawCrewMember));\nconsole.log(crewMember);\n\nconst rawCaptain = `{\n  \"id\": 3,\n  \"name\": \"Han Solo\",\n  \"crewIds\": [2]\n}`;\n\n// types can be detected on assignment to identfiers with known types\nlet captain: Captain;\ncaptain = $marshal(JSON.parse(rawCaptain));\n"],"names":[],"mappings":"AAaA,SAAS,QAAQ,CAAI,GAAQ,EAAK;IAChC,MAAM,IAAI,KAAK,CAAC,iDAAiD,CAAC,CAAC;CAGpE;ACKD,MAAM,YAAY,GAAG,CAAC;;;;CAIrB,CAAC,AAAC;AAIH,MAAM,SAAS,GAAc,SAAS,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,AAAC;AAChE,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;AAEvB,MAAM,aAAa,GAAG,CAAC;;;;CAItB,CAAC,AAAC;AAIH,MAAM,UAAU,GAAG,SAAqB,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,AAAC;AACnE,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;AAExB,MAAM,UAAU,GAAG,CAAC;;;;CAInB,CAAC,AAAC;AAGH,IAAI,OAAO,AAAS,AAAC;AACrB,OAAO,GAAG,SAAS,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC"}